<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Szun Kidd Choi's Portfolio â€¢ Project Ping</title>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css"
        integrity="sha512-SzlrxWUlpfuzQ+pcUCosxcglQRNAq/DZjVsC0lE40xsADsfeQoEypE+enwcOiGjk/bSuGGKHEyjSoQ1zVisanQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- CSS -->
    <link rel="stylesheet" href="styles/styles.css">

    <!-- JS -->
    <script src="src/main.js"></script>

    <!-- jQuery to help with refactoring common page elements. -->
    <script src="https://code.jquery.com/jquery-3.6.3.js"
        integrity="sha256-nQLuAZGRRcILA+6dMBOvcRh5Pe310sBpanc6+QBmyVM=" crossorigin="anonymous"></script>
</head>

<body>
    <div id="navigation">
        <div id="navigation-container">
            <script>
                $("#navigation-container").load("master-utils/navbar.html");
            </script>
        </div>
    </div>
    <div id="wrapper">
        <a href="index.html" class="button-target button-target-top">&#8672; Back to Home</a>
        <video controls muted>
            <source src="media/project-ping/project-ping-footage.mp4" type="video/mp4">
            This browser does not support video.
        </video>
        <div class="content">
            <div id="title">
                <h1>Project Ping</h1>
                <div class="button-container">
                    <a href="https://github.com/juuu-jiii/multiplayer-unreal" target="Project Ping repo link"
                        class="button-target button-target-group">
                        <i class="fa-solid fa-arrow-up-right-from-square"></i> Repo</a>
                    <a href="https://docs.google.com/document/d/11afqbzBTLIlEJci-9zL_ExfiHl89vZ1_NWmw8ohPVcw/edit?usp=sharing"
                        target="Project Ping documentation" class="button-target button-target-group">
                        <i class="fa-solid fa-arrow-up-right-from-square"></i> Documentation</a>
                </div>
            </div>
            <p>
                <i>Project Ping</i> is an in-progress general-purpose plug-and-play networked multiplayer asset
                in Unreal 5 that uses Steam for matchmaking. It started as a project for an Independent Study class in
                Tools Development, and I have
                since continued to expand on it. As this is my formal introduction to networking in Unreal, I
                documented my processes with the hopes of them someday coming in handy to anyone going down the same
                rabbit holes I did. I wrote with the average computing college student in mind, and assume basic
                knowledge of networking in the engine.
            </p>
            <h2>Fast Facts</h2>
            <p>
                <b>Role: </b>Sole Developer, Networking and Multiplayer Programming<br>
                <b>Timeframe: </b>10 weeks (currently in progress)<br>
                <b>Engine: </b>Unreal 5.0<br>
                <b>Plugins: </b>AdvancedSteamSessions, SteamSockets<br>
                <b>Languages: </b>C++, Blueprints Visual Scripting<br>
            </p>
            <h2>Networking Features</h2>
            <ul>
                <li>
                    Creating and joining sessions for up to 4 players via a session browser menu:
                </li>
                <ul>
                    <li>
                        Sessions are created through the use of a listen server.
                    </li>
                    <li>
                        Matchmaking uses Steam with the help of AdvancedSteamSessions and SteamSockets plugins.
                    </li>
                </ul>
                <li>
                    Replication of movement across all connected machines via the ThirdPersonCharacter Blueprint.
                </li>
                <li>
                    Server starts the game once players have joined via logic in the Game Mode class.
                </li>
                <li>
                    Use of seamless travel to allow server and clients to move across levels.
                </li>
                <li>
                    Each player keeps track of their score within their own Player State class, which then persists
                    across levels during seamless travel.
                </li>
                <li>
                    Session destruction logic:
                </li>
                <ul>
                    <li>
                        If a client leaves a game, the session is destroyed on their machine and they are returned to
                        the menu.
                    </li>
                    <li>
                        If the server leaves a game, sessions are destroyed on all machines (including the server).
                        All players are returned to the menu.
                    </li>
                </ul>
            </ul>
            <!-- <p>
                Currently, creating and joining sessions for up to 4 players is supported via a session browser menu.
                Replication of player movement across all connected machines is handled via the use of the
                ThirdPersonCharacter Blueprint. To further demonstrate replication, the server starts a game once
                players have joined by pressing Enter to enable input on all connected machines.
            </p>
            <p>
                Each player keeps track of their own score, which is incremented by pressing Backspace. Two maps are
                included to demonstrate both persistent scores and seamless travel across levels for both client and
                server machines. Finally, clients can leave midway through a game by bringing up a "pause" menu via
                pressing Esc. The session is destroyed on their machine and they are returned to the menu. If the server
                leaves, however, the session is destroyed on all machines (including the server) and all players are
                returned to the menu.
            </p> -->
            <h2>Prioritising Flexibility and Scalability</h2>
            <p>
                As one of the goals of this project was to create a general-purpose networked multiplayer asset, I
                developed with flexibility in mind, and added minimal gameplay logic to test the systems I was
                developing. That way, any bugs I ran into would most likely be coming from netcode and not gameplay
                code. Furthermore, this meant the asset would also allow logic for many kinds of games to be slapped
                on top of it.
            </p>
            <p>
                I gained experience creating and documenting a codebase for scalability, since this project would need
                to support longer-term development (not just for a semester). Additionally, playing around with source
                code and extending Unreal's classes has given me more experience working with C++. I also learned about
                how Unreal's gameplay classes work (like the Game Instance and Player State),
                and how they fit into the networking framework.
            </p>
            <h2>Looking Under the Hood</h2>
            <p>
                Throughout development, I needed to continuously get a better understanding of what was happening under
                the hood. This was particularly true when I was testing implementations that depended on Steam, which
                required the program to be run as a standalone process, and not within the editor. This meant that I,
                sadly, did not have access to Unreal's Blueprints debugger.
            </p>
            <p>
                I was stuck logging text to the screen for a while, until I came across a
                <a href="https://forums.unrealengine.com/t/how-do-i-view-logs-in-standalone-mode/461715/2"
                    target="Standalone logs forum post">forum post</a>
                about how to open a separate log window for a game running standalone. Additionally, after
                some digging around, I figured out how to <a
                    href="https://unrealcommunity.wiki/debugging-a-packaged-build-o9c2ta8f"
                    target="Attach debugger to standalone game">attach the Visual Studio debugger to a standalone
                    game.</a>
                These two discoveries were exactly what I needed to get a better picture of the program flow when
                running in standalone mode. Combining them, I was able to improve my productivity in effectively
                diagnosing and fixing issues as they arose.
            </p>
            <h2>Next Steps</h2>
            <h3>Addressing Edge Cases</h3>
            <p>
                At the moment, if a player (either server or client) gets involuntarily disconnected during a game, the
                session isn't destroyed on their machine, preventing them from joining/hosting sessions again until they
                restart the program. The current implementation also does not handle the scenario where the
                client loads into a map faster than the server when travelling across levels. This can cause issues with
                level initialisation, since all related logic is placed in the Game Mode class, which runs exclusively
                on the server.
            </p>
            <h3>Migrating Implementations over to C++</h3>
            <p>
                With some of the program's functionality prototyped and working, implementing it in C++
                will lead to performance gains. Second, and perhaps just as important, this will allow for standalone
                games to be debugged via Visual Studio (as mentioned above), saving time on fixing issues.
            </p>
            <h3>Adding More Functionality</h3>
            <p>
                Looking ahead, I'd like to work on adding features like a lobby, scoreboards, and in-game chat, to name
                a few. Continuing to look at games across various genres will be helpful in identifying common
                features someone would expect to find in a networked multiplayer game.
            </p>



            <h2>Link to Repo</h2>
            <p>
                Click the button below to access the project's repository:
            </p>
            <br>
            <a href="https://github.com/juuu-jiii/multiplayer-unreal" class="button-target"
                target="Project Ping repo link">
                <i class="fa-solid fa-arrow-up-right-from-square"></i> Project Ping Repo</a>
            <br>
            <br>
            <h2>Link to Documentation</h2>
            <p>
                Click the button below to access the documentation associated with this project:
            </p>
            <br>
            <a href="https://docs.google.com/document/d/11afqbzBTLIlEJci-9zL_ExfiHl89vZ1_NWmw8ohPVcw/edit?usp=sharing"
                class="button-target" target="Project Ping documentation">
                <i class="fa-solid fa-arrow-up-right-from-square"></i> Project Ping documentation</a>
        </div>
    </div>
    <div id="footer-container">
        <script>
            $("#footer-container").load("master-utils/footer.html");
        </script>
    </div>
</body>

</html>